{"version":3,"file":"js/442.3730edc2.js","mappings":"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","sources":["webpack://project/./src/views/Checkout.vue","webpack://project/./src/components/Order/Order.vue","webpack://project/./src/components/Order/Order.vue?0213","webpack://project/./node_modules/emailjs-com/es/store/store.js","webpack://project/./node_modules/emailjs-com/es/methods/init/init.js","webpack://project/./node_modules/emailjs-com/es/utils/validateParams.js","webpack://project/./node_modules/emailjs-com/es/models/EmailJSResponseStatus.js","webpack://project/./node_modules/emailjs-com/es/api/sendPost.js","webpack://project/./node_modules/emailjs-com/es/methods/send/send.js","webpack://project/./node_modules/emailjs-com/es/methods/sendForm/sendForm.js","webpack://project/./node_modules/emailjs-com/es/index.js","webpack://project/./src/views/Checkout.vue?8fbf"],"sourcesContent":["<template>\r\n  <section class=\"checkout\">\r\n    <div class=\"container\">\r\n      <div class=\"checkoutBlock\">\r\n        <h1 class=\"checkoutBlock__h\">Checkout</h1>\r\n        <form @submit.prevent=\"submitOrder\" class=\"checkoutBlock__main\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Имя\"\r\n            id=\"name\"\r\n            name=\"name\"\r\n            v-model=\"order.name\"\r\n            autocomplete=\"none\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Номер телефона\"\r\n            id=\"phone\"\r\n            name=\"phone\"\r\n            v-model=\"order.phone\"\r\n            autocomplete=\"none\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Адрес\"\r\n            id=\"address\"\r\n            name=\"address\"\r\n            v-model=\"order.address\"\r\n            autocomplete=\"none\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Город\"\r\n            id=\"city\"\r\n            name=\"city\"\r\n            v-model=\"order.city\"\r\n            autocomplete=\"none\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Электронная почта\"\r\n            id=\"email\"\r\n            name=\"email\"\r\n            v-model=\"order.email\"\r\n            required\r\n          />\r\n          <div class=\"checkoutBlock__main-btns\">\r\n            <div class=\"checkoutBlock__main-btns-btn\">\r\n              <button\r\n                class=\"checkoutBlock__main-btns-btn1\"\r\n                v-if=\"receipt == false\"\r\n                type=\"button\"\r\n                @click=\"openReceipt\"\r\n              >\r\n              Показать заказы\r\n              </button>\r\n              <button\r\n                class=\"checkoutBlock__main-btns-btn1\"\r\n                type=\"button\"\r\n                @click=\"closeReceipt\"\r\n                v-else-if=\"receipt == true\"\r\n              >\r\n              Закрыть заказ\r\n              </button>\r\n              <router-link to=\"/cart\" class=\"checkoutBlock__main-btns-btn1\"\r\n                >Вернуться в корзину</router-link\r\n              >\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              id=\"submit\"\r\n              :disabled=\"submittingOrder || isCartEmpty\"\r\n            >\r\n              <span v-if=\"submittingOrder\">\r\n                <div class=\"loading-overlay\">\r\n                  <div class=\"loading-circle\"></div>\r\n                </div>\r\n              </span>\r\n              <span v-else-if=\"isCartEmpty\">Корзина пуста</span>\r\n              <span v-else>Заказать</span>\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <Order v-show=\"receipt\" />\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport Order from \"@/components/Order/Order.vue\";\r\nimport emailjs from \"emailjs-com\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    Order,\r\n  },\r\n  data() {\r\n    return {\r\n      receipt: false,\r\n      order: {\r\n        name: \"\",\r\n        phone: \"\",\r\n        address: \"\",\r\n        city: \"\",\r\n        email: \"\",\r\n      },\r\n      submittingOrder: false,\r\n    };\r\n  },\r\n  methods: {\r\n    openReceipt() {\r\n      this.receipt = true;\r\n    },\r\n    closeReceipt() {\r\n      this.receipt = false;\r\n    },\r\n    async submitOrder() {\r\n      const productsMap = new Map();\r\n      this.cart.line_items.forEach((item) => {\r\n        if (item.quantity > 0) {\r\n          productsMap.set(item.product_name, item.quantity);\r\n        }\r\n      });\r\n\r\n      let productsList = \"\";\r\n      productsMap.forEach((quantity, product) => {\r\n        productsList += `${product} - ${quantity}, `;\r\n      });\r\n      const orderDetails = `\r\n      Name: ${this.order.name}\r\n      Phone: ${this.order.phone}\r\n      Address: ${this.order.address}\r\n      City: ${this.order.city}\r\n      Email: ${this.order.email}\r\n      Products: ${productsList}\r\n      Subtotal:${JSON.stringify(this.cart.subtotal.formatted)} Сум\r\n    `;\r\n\r\n      try {\r\n        this.submittingOrder = true;\r\n        const response = await emailjs.send(\r\n          \"service_n55zyyi\",\r\n          \"template_nxxbltp\",\r\n          {\r\n            to_email: this.order.email,\r\n            message: orderDetails,\r\n          },\r\n          \"cMjsZgT6VKlPlYEmF\"\r\n        );\r\n        await this.$store.dispatch(\"clearCart\");\r\n\r\n        this.order.name = \"\";\r\n        this.order.phone = \"\";\r\n        this.order.address = \"\";\r\n        this.order.city = \"\";\r\n        this.order.email = \"\";\r\n        alert(\"Ваш заказ отправлен, мы свяжемся с вами в ближайшее время!\");\r\n      } catch (error) {\r\n        alert(\"Ошибка! ваш заказ не отправлен попробуйте еще раз или позвоните по номеру  951234567!\");\r\n      } finally {\r\n        this.submittingOrder = false;\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"cart\"]),\r\n    isCartEmpty() {\r\n      return !this.cart || this.cart.total_items === 0;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n","<template>\r\n  <div class=\"receipt\" v-if=\"cart\">\r\n    <h3 class=\"receipt__h\">Заказ</h3>\r\n    <div class=\"receipt__orders\">\r\n      <div\r\n        class=\"receipt__main\"\r\n        v-for=\"product in cart.line_items\"\r\n        :key=\"product.id\"\r\n      >\r\n      <p class=\"receipt__p\" v-if=\"product.quantity > 0\">{{ product.name }} - {{ product.quantity }}</p>\r\n      <p class=\"receipt__p\" v-if=\"product.quantity > 0\">{{ product.price.formatted }}0 Сум</p>\r\n    </div>\r\n    </div>\r\n    <h3 class=\"receipt__subtotal\">{{ cart.subtotal.formatted }}0 Сум</h3>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nexport default {\r\n  created() {\r\n    this.getCart();\r\n  },\r\n  computed: {\r\n    ...mapState([\"cart\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions([\"getCart\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n","import { render } from \"./Order.vue?vue&type=template&id=b179a08c\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export const store = {\n    _origin: 'https://api.emailjs.com',\n};\n","import { store } from '../../store/store';\n/**\n * Initiation\n * @param {string} userID - set the EmailJS user ID\n * @param {string} origin - set the EmailJS origin\n */\nexport const init = (userID, origin = 'https://api.emailjs.com') => {\n    store._userID = userID;\n    store._origin = origin;\n};\n","export const validateParams = (userID, serviceID, templateID) => {\n    if (!userID) {\n        throw 'The user ID is required. Visit https://dashboard.emailjs.com/admin/integration';\n    }\n    if (!serviceID) {\n        throw 'The service ID is required. Visit https://dashboard.emailjs.com/admin';\n    }\n    if (!templateID) {\n        throw 'The template ID is required. Visit https://dashboard.emailjs.com/admin/templates';\n    }\n    return true;\n};\n","export class EmailJSResponseStatus {\n    constructor(httpResponse) {\n        this.status = httpResponse.status;\n        this.text = httpResponse.responseText;\n    }\n}\n","import { EmailJSResponseStatus } from '../models/EmailJSResponseStatus';\nimport { store } from '../store/store';\nexport const sendPost = (url, data, headers = {}) => {\n    return new Promise((resolve, reject) => {\n        const xhr = new XMLHttpRequest();\n        xhr.addEventListener('load', ({ target }) => {\n            const responseStatus = new EmailJSResponseStatus(target);\n            if (responseStatus.status === 200 || responseStatus.text === 'OK') {\n                resolve(responseStatus);\n            }\n            else {\n                reject(responseStatus);\n            }\n        });\n        xhr.addEventListener('error', ({ target }) => {\n            reject(new EmailJSResponseStatus(target));\n        });\n        xhr.open('POST', store._origin + url, true);\n        Object.keys(headers).forEach((key) => {\n            xhr.setRequestHeader(key, headers[key]);\n        });\n        xhr.send(data);\n    });\n};\n","import { store } from '../../store/store';\nimport { validateParams } from '../../utils/validateParams';\nimport { sendPost } from '../../api/sendPost';\n/**\n * Send a template to the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {object} templatePrams - the template params, what will be set to the EmailJS template\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\nexport const send = (serviceID, templateID, templatePrams, userID) => {\n    const uID = userID || store._userID;\n    validateParams(uID, serviceID, templateID);\n    const params = {\n        lib_version: '3.2.0',\n        user_id: uID,\n        service_id: serviceID,\n        template_id: templateID,\n        template_params: templatePrams,\n    };\n    return sendPost('/api/v1.0/email/send', JSON.stringify(params), {\n        'Content-type': 'application/json',\n    });\n};\n","import { store } from '../../store/store';\nimport { validateParams } from '../../utils/validateParams';\nimport { sendPost } from '../../api/sendPost';\nconst findHTMLForm = (form) => {\n    let currentForm;\n    if (typeof form === 'string') {\n        currentForm = document.querySelector(form);\n    }\n    else {\n        currentForm = form;\n    }\n    if (!currentForm || currentForm.nodeName !== 'FORM') {\n        throw 'The 3rd parameter is expected to be the HTML form element or the style selector of form';\n    }\n    return currentForm;\n};\n/**\n * Send a form the specific EmailJS service\n * @param {string} serviceID - the EmailJS service ID\n * @param {string} templateID - the EmailJS template ID\n * @param {string | HTMLFormElement} form - the form element or selector\n * @param {string} userID - the EmailJS user ID\n * @returns {Promise<EmailJSResponseStatus>}\n */\nexport const sendForm = (serviceID, templateID, form, userID) => {\n    const uID = userID || store._userID;\n    const currentForm = findHTMLForm(form);\n    validateParams(uID, serviceID, templateID);\n    const formData = new FormData(currentForm);\n    formData.append('lib_version', '3.2.0');\n    formData.append('service_id', serviceID);\n    formData.append('template_id', templateID);\n    formData.append('user_id', uID);\n    return sendPost('/api/v1.0/email/send-form', formData);\n};\n","import { init } from './methods/init/init';\nimport { send } from './methods/send/send';\nimport { sendForm } from './methods/sendForm/sendForm';\nexport { init, send, sendForm };\nexport default {\n    init,\n    send,\n    sendForm,\n};\n","import { render } from \"./Checkout.vue?vue&type=template&id=960086ca\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","submitOrder","type","placeholder","id","name","order","autocomplete","required","phone","address","city","email","receipt","openReceipt","closeReceipt","to","disabled","submittingOrder","isCartEmpty","cart","line_items","product","key","quantity","price","formatted","subtotal","created","this","getCart","computed","methods","__exports__","store","_origin","init","userID","origin","_userID","validateParams","serviceID","templateID","EmailJSResponseStatus","constructor","httpResponse","status","text","responseText","sendPost","url","data","headers","Promise","resolve","reject","xhr","XMLHttpRequest","addEventListener","target","responseStatus","open","Object","keys","forEach","setRequestHeader","send","templatePrams","uID","params","lib_version","user_id","service_id","template_id","template_params","JSON","stringify","findHTMLForm","form","currentForm","document","querySelector","nodeName","sendForm","formData","FormData","append","components","Order","productsMap","Map","item","set","product_name","productsList","orderDetails","to_email","message","$store","dispatch","alert","error","total_items","render"],"sourceRoot":""}